{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Trabajo final LC POS-Tagging. Curso 2020-2021\n",
    "### Jaime Ferrando Huertas\n",
    "### Javier Mart√≠nez Bernia"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Preparamos los datos"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[nltk_data] Downloading package cess_esp to /Users/jaime/nltk_data...\n",
      "[nltk_data]   Package cess_esp is already up-to-date!\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "True"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#IMPORTS\n",
    "import nltk\n",
    "from nltk.corpus import cess_esp\n",
    "from nltk.tag import UnigramTagger,BigramTagger,hmm, tnt, AffixTagger,brill, brill_trainer, crf, perceptron\n",
    "from sklearn.model_selection import KFold\n",
    "import matplotlib.pyplot as plt\n",
    "import numpy as np\n",
    "import pandas as pd\n",
    "import math\n",
    "from random import shuffle\n",
    "\n",
    "nltk.download('cess_esp')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "number of sentnces: 6030\n",
      "number of words: 6030\n"
     ]
    }
   ],
   "source": [
    "#Cargamos el corpus\n",
    "\n",
    "corpus = list(cess_esp.tagged_sents())\n",
    "number_sentences = len(corpus)\n",
    "print(\"number of sentnces:\", number_sentences)\n",
    "print(\"number of words:\", number_sentences)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Procesamos el corpus\n",
    "processed_corpus = []\n",
    "for sentence in corpus:\n",
    "    tmp_sentence = []\n",
    "    for word in sentence:\n",
    "        if word[0] == \"*0*\":\n",
    "            continue\n",
    "        if word[1][0] == \"v\" or \"F\":\n",
    "            new_word = (word[0], word[1][:3])\n",
    "        else:\n",
    "            new_word = (palabra_etiquetada[0], word[1][:2])\n",
    "        tmp_sentence.append(new_word)\n",
    "    processed_corpus.append(tmp_sentence)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Shuffle data\n",
    "shuffle(corpus)\n",
    "shuffle(processed_corpus)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Tarea 1 "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "// EXplicamos la tarea aqui"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 17min 33s, sys: 1min 37s, total: 19min 11s\n",
      "Wall time: 19min 48s\n"
     ]
    }
   ],
   "source": [
    "%%time\n",
    "results_hmm_unprocessed = []\n",
    "intervals_hmm_unprocessed = []\n",
    "kf_fold = KFold(n_splits=10, shuffle=False)\n",
    "for train_index, test_index in kf_fold.split(corpus):\n",
    "    #Split data\n",
    "    training_cv = np.take(corpus,train_index)\n",
    "    test_cv = np.take(corpus,test_index)\n",
    "    #HMM\n",
    "    tagger_hmm = hmm.HiddenMarkovModelTagger.train(training_cv)\n",
    "    v = tagger_hmm.evaluate(test_cv)\n",
    "    results_hmm_unprocessed.append(v)\n",
    "    #Intervalos\n",
    "    d = 1.96*math.sqrt((v*(1-v))/len(test_cv))\n",
    "    ic = round(d,3)\n",
    "    intervals_hmm_unprocessed.append(ic)\n",
    "\n",
    "results_hmm_processed = []\n",
    "intervals_hmm_processed = []\n",
    "kf_fold = KFold(n_splits=10, shuffle=False)\n",
    "for train_index, test_index in kf_fold.split(processed_corpus):\n",
    "    #Split data\n",
    "    training_cv = np.take(corpus,train_index)\n",
    "    test_cv = np.take(corpus,test_index)\n",
    "    #HMM\n",
    "    tagger_hmm = hmm.HiddenMarkovModelTagger.train(training_cv)\n",
    "    v = tagger_hmm.evaluate(test_cv)\n",
    "    results_hmm_processed.append(v)\n",
    "    #Intervalos\n",
    "    d = 1.96*math.sqrt((v*(1-v))/len(test_cv))\n",
    "    ic = round(d,3)\n",
    "    intervals_hmm_processed.append(ic)\n",
    "    \n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "x=[i for i in range(10)]\n",
    "y=results_hmm_unprocessed # results es una lista con los resultados de cada experimento\n",
    "plt.axis([-1, 10, 0.80, 0.97])\n",
    "plt.ylabel('Accuracy')\n",
    "plt.xlabel('Fold')\n",
    "plt.title('Ten-fold cross validation HMM unprocessed')\n",
    "plt.plot(x,y,'ro')\n",
    "Tic=intervals_hmm_unprocessed# Lista con los intervalos de confianza\n",
    "plt.errorbar(x,y,yerr=Tic,linestyle='None')\n",
    "plt.show()\n",
    "\n",
    "x=[i for i in range(10)]\n",
    "y=results_hmm_processed # results es una lista con los resultados de cada experimento\n",
    "plt.axis([-1, 10, 0.80, 0.97])\n",
    "plt.ylabel('Accuracy')\n",
    "plt.xlabel('Fold')\n",
    "plt.title('Ten-fold cross validation HMM processed')\n",
    "plt.plot(x,y,'ro')\n",
    "Tic=intervals_hmm_processed# Lista con los intervalos de confianza\n",
    "plt.errorbar(x,y,yerr=Tic,linestyle='None')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "// Comentamos resultados"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Tarea 2"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "// EXplicamos la tarea aqui"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 6min 21s, sys: 17.8 s, total: 6min 38s\n",
      "Wall time: 7min\n"
     ]
    }
   ],
   "source": [
    "%%time\n",
    "results_hmm_train_limited = []\n",
    "intervals_hmm_train_limited = []\n",
    "for i in np.arange(0.1, 1.0, 0.1): #We iterate a list array([0.1,  0.2,  0.3,  0.4,  0.5,  0.6,  0.7,  0.8,  0.9])\n",
    "    #Split data\n",
    "    len_training = int(i*len(processed_corpus))\n",
    "    training_notcv = processed_corpus[:len_training]\n",
    "    test_notcv = processed_corpus[len_training:]\n",
    "    #HMM\n",
    "    tagger_hmm = hmm.HiddenMarkovModelTagger.train(training_notcv)\n",
    "    v = tagger_hmm.evaluate(test_notcv)\n",
    "    results_hmm_train_limited.append(v)\n",
    "    #Intervalos\n",
    "    d = 1.96*math.sqrt((v*(1-v))/len(test_cv))\n",
    "    ic = round(d,3)\n",
    "    intervals_hmm_train_limited.append(ic)\n",
    "    \n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "xticks = np.arange(10, 110, step=10)\n",
    "x=xticks[:9]\n",
    "y=results_hmm_train_limited # results es una lista con los resultados de cada experimento\n",
    "plt.axis([-1, 10, 0.80, 0.97])\n",
    "plt.xticks(xticks)\n",
    "plt.ylabel('Accuracy')\n",
    "plt.xlabel('% of data used as training')\n",
    "plt.title('HMM performance in 10% test data based on training data size')\n",
    "plt.plot(x,y,'ro')\n",
    "Tic=intervals_hmm_train_limited# Lista con los intervalos de confianza\n",
    "plt.errorbar(x,y,yerr=Tic,linestyle='None')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "// Comentamos resultados"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Tarea 3"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "def tr_te_tnt_smooth(tr,te,n):\n",
    "    # n: longitud del sufijo\n",
    "    # Entrenamos y evaluamos el tagger tnt con suavizado utilizando\n",
    "    # AffixTagger como etiquetador para las palabras desconocidas\n",
    "    \n",
    "    # Inicializamos y entrenamos AffixTagger\n",
    "    sufix_tagger = AffixTagger(tr, affix_length=-n)\n",
    "    # Inicializamos TnT pasando el tagger anterior como par√°metro\n",
    "    tnt_tagger = tnt.TnT(unk = sufix_tagger, Trained = True)\n",
    "    # Entrenamos TnT\n",
    "    tnt_tagger.train(tr)\n",
    "    # Evaluamos con te\n",
    "    return tnt_tagger.evaluate(te)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 10min 44s, sys: 8.4 s, total: 10min 53s\n",
      "Wall time: 13min 33s\n"
     ]
    }
   ],
   "source": [
    "%%time\n",
    "from nltk import AffixTagger\n",
    "results_tnt_affix_length = []\n",
    "intervals_tnt_affix_length = []\n",
    "for i in range(0, 10):\n",
    "    #Split data\n",
    "    len_training = int(0.9*len(processed_corpus))\n",
    "    training_notcv = processed_corpus[:len_training]\n",
    "    test_notcv = processed_corpus[len_training:]\n",
    "    #Mofidy data for affix\n",
    "    #TNT\n",
    "    v = tr_te_tnt_smooth(training_notcv,test_notcv,i)\n",
    "    results_tnt_affix_length.append(v)\n",
    "    #Intervalos\n",
    "    d = 1.96*math.sqrt((v*(1-v))/len(test_cv))\n",
    "    ic = round(d,3)\n",
    "    intervals_tnt_affix_length.append(ic)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "xticks = list(range(10))\n",
    "x=xticks\n",
    "y=results_tnt_affix_length # results es una lista con los resultados de cada experimento\n",
    "plt.axis([-1, 10, 0.80, 0.97])\n",
    "plt.ylabel('Accuracy')\n",
    "plt.xlabel('Suffix length')\n",
    "plt.title('Accuracy per suffix length used in TNT classifier')\n",
    "plt.plot(x,y,'ro')\n",
    "Tic=intervals_tnt_affix_length# Lista con los intervalos de confianza\n",
    "plt.errorbar(x,y,yerr=Tic,linestyle='None')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Tarea 4"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Brill"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 49.7 s, sys: 925 ms, total: 50.6 s\n",
      "Wall time: 1min 6s\n"
     ]
    }
   ],
   "source": [
    "%%time\n",
    "train = processed_corpus[:int(0.9*len(corpus))]\n",
    "test = processed_corpus[int(0.9*len(corpus)):]\n",
    "\n",
    "tagger_unigramas = UnigramTagger(train)\n",
    "brill.Template._cleartemplates()\n",
    "templates = brill.fntbl37()\n",
    "trainer = nltk.tag.brill_trainer.BrillTaggerTrainer(initial_tagger=tagger_unigramas,\n",
    "                                   templates=templates, trace=3,\n",
    "                                   deterministic=True)\n",
    "trainer._trace=0 #We hide the training loop prints\n",
    "brill_trained = trainer.train(train, max_rules=1000)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.8995891536565325"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Brill with unigramtagger\n",
    "brill_trained.evaluate(test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "tagger_unigramas = hmm.HiddenMarkovModelTagger.train(train)\n",
    "brill.Template._cleartemplates()\n",
    "templates = brill.fntbl37()\n",
    "trainer = nltk.tag.brill_trainer.BrillTaggerTrainer(initial_tagger=tagger_unigramas,\n",
    "                                   templates=templates, trace=3,\n",
    "                                   deterministic=True)\n",
    "trainer._trace=0 #We hide the training loop prints\n",
    "brill_trained = trainer.train(train, max_rules=1000)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.9347576006573541"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Brill with hmmtagger\n",
    "brill_trained.evaluate(test)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## CRF"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.9606135305395782"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "tagger_crf = crf.CRFTagger()\n",
    "tagger_crf.train(train, \"model\")\n",
    "tagger_crf.evaluate(test)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Perceptron"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.9711859764448096"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "tagger_perceptron = perceptron.PerceptronTagger(load = False)\n",
    "tagger_perceptron.train(train)\n",
    "tagger_perceptron.evaluate(test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[('-', 'Fg'),\n",
       " ('Qu√©', 'pt'),\n",
       " ('pod√≠a', 'vm'),\n",
       " ('haber', 'va'),\n",
       " ('inducido', 'vm'),\n",
       " ('al', 'sp'),\n",
       " ('poeta', 'nc'),\n",
       " ('para', 'sp'),\n",
       " ('verse', 'vm'),\n",
       " ('arrastrado', 'aq'),\n",
       " ('a', 'sp'),\n",
       " ('aquel', 'dd'),\n",
       " ('descabellado', 'aq'),\n",
       " ('lance', 'nc'),\n",
       " ('?', 'Fi')]"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "test[0]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# RNN Keras "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# example of training a final classification model\n",
    "from keras.models import Sequential\n",
    "from keras.layers import Dense\n",
    "from sklearn.datasets import make_blobs\n",
    "from sklearn.preprocessing import MinMaxScaler\n",
    "# generate 2d classification dataset\n",
    "X_train, y_train = make_blobs(n_samples=100, centers=2, n_features=2, random_state=1)\n",
    "scalar = MinMaxScaler()\n",
    "scalar.fit(X)\n",
    "X = scalar.transform(X)\n",
    "# define and fit the final model\n",
    "model = Sequential()\n",
    "model.add(Dense(4, input_dim=2, activation='relu'))\n",
    "model.add(Dense(4, activation='relu'))\n",
    "model.add(Dense(1, activation='sigmoid'))\n",
    "model.compile(loss='binary_crossentropy', optimizer='adam')\n",
    "model.fit(X, y, epochs=200, verbose=0)"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
